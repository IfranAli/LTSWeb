<div *ngIf="$project$ | async" class="project-list example-container">
  <article>
    <header>
      <div style="display: grid; grid-template-columns: 1fr 0.25fr">
        <span>
          {{ project.title }}
        </span>

        <span
          class="font-code"
          style="flex-flow: row-reverse; gap: 0.75rem"
          (click)="openDialog()"
        >
          <span class="icon-button material-symbols-outlined highlight"
            >settings</span
          >
          {{ project.code }}
        </span>

        <span class="font-code">
          {{ project.description }}
        </span>
      </div>
    </header>

    <div
      class="list custom-card-content"
      id="{{ project.id }}"
      cdkDropList
      [cdkDropListData]="project.tasks"
      (cdkDropListDropped)="drop($event)"
    >
      <div
        class="list-item"
        *ngFor="let task of project.tasks"
        cdkDrag
        [cdkDragData]="task"
      >
        <div class="custom-row">
          <div class="custom-row-item drag-handle" cdkDragHandle></div>

          <div class="custom-row-item">
            <app-task
              [task]="task"
              [projectCode]="project.code"
              (onPinTask)="onTaskPinned($event)"
              (onTaskDeleted)="onTaskDeleted($event)"
              (onTaskChanged)="onTaskChanged($event)"
            >
            </app-task>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="ui-button">
        <span
          class="material-symbols-outlined highlight"
          (click)="addTaskToProject()"
          >add
        </span>

        <span>Add Task</span>
      </div>
    </footer>
  </article>
</div>
