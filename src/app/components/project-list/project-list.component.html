<div *ngIf="project" class="project-list example-container">
  <div
    class="custom-card"
  >
    <!--    [style.background]="projectColour"-->

    <div class="title space-between no-header">
      <div>
        <span>{{project.title}}</span>
        <mat-icon color="secondary" (click)="openDialog()">settings</mat-icon>
      </div>

      <div>
        <span>{{project.description}}</span>
        <span class="code">
          <span *ngIf="!project.enabled">inactive</span>
          {{project.code}}
        </span>
      </div>
    </div>


    <div
      class="list custom-card-content"
      id="{{project.id}}"
      cdkDropList
      [cdkDropListData]="project.tasks"
      (cdkDropListDropped)="drop($event)">

      <div
        class="list-item"
        *ngFor="let task of project.tasks"
        cdkDrag
        [cdkDragData]="task"
      >

        <div class="custom-row">

          <div
            class="custom-row-item drag-handle"
            cdkDragHandle
          ></div>

          <div class="custom-row-item">
            <app-task [task]="task"
                      (onPinTask)="onTaskPinned($event)"
                      (onTaskDeleted)="onTaskDeleted($event)"
                      (onTaskChanged)="onTaskChanged($event)">

            </app-task>
          </div>
        </div>

      </div>
    </div>

    <div class="custom-card-actions footer">
      <button class="icon-button">
        <mat-icon (click)="addTaskToProject()">add</mat-icon>
      </button>
    </div>
  </div>
</div>
