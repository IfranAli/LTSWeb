<div class="project-task-item {{ task.state }}">

  <div class="task-controls">

    <div class="priority-icon">
      <ng-container [ngSwitch]="task.priority">
        <mat-icon class="priority lowest" color="secondary" *ngSwitchCase="0">keyboard_double_arrow_down</mat-icon>
        <mat-icon class="priority medium" color="secondary" *ngSwitchCase="1">horizontal_rule</mat-icon>
        <mat-icon class="priority high" color="secondary" *ngSwitchCase="2">keyboard_arrow_up</mat-icon>
        <mat-icon class="priority highest" color="secondary" *ngSwitchCase="3">keyboard_double_arrow_up</mat-icon>
      </ng-container>
    </div>

    <div class="content">
      <div>{{ task.name }}</div>
      <div>{{ task.content}}</div>
    </div>

    <ng-container [ngSwitch]="task.state">
      <div *ngSwitchCase="0" class="status-text todo">Todo</div>
      <div *ngSwitchCase="1" class="status-text in-progress">In progress</div>
      <div *ngSwitchCase="2" class="status-text blocked">Blocked</div>
      <div *ngSwitchCase="3" class="status-text done">Done</div>
    </ng-container>

    <button class="icon-button" [cdkMenuTriggerFor]="menu">
      <mat-icon color="secondary">more_vert</mat-icon>
    </button>
  </div>
</div>

<ng-template #menu>
  <div class="example-menu" cdkMenu>
    <button mat-flat-button
            class="example-menu-item"
            (click)="openDialog()">
      Edit
    </button>

    <button mat-flat-button
            class="example-menu-item"
            (click)="onDelete(task.id)">
      Delete
    </button>
  </div>
</ng-template>
