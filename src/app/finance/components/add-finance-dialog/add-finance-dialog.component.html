<app-dialog [isVisible]="isVisible">
  <article>
    <header>
      <a class="close"> </a>

      <p>
        <strong>{{ dialogAction }}</strong>
      </p>
    </header>

    <div
      class="custom-form"
      [class.hideHeader]="dialogAction == 'Edit Finance'"
    >
      <div>
        <div label="Add">
          <form [formGroup]="addFinanceForm">
            <label>Name</label>
            <input
              [formControl]="addFinanceForm.controls.name"
              type="text"
              title="name"
            />

            <label>Date</label>
            <div class="right-icon">
              <input
                type="date"
                title="date"
                [formControl]="addFinanceForm.controls.date"
                class="form-control"
              />
            </div>

            <label>Amount</label>
            <input title="amount" [formControl]="addFinanceForm.controls.amount" />

            <label>Category</label>
            <select
              title="category"
              [formControl]="addFinanceForm.controls.categoryType"
              *ngIf="categories()?.categoryTypesMap as types"
            >
              <option *ngFor="let type of types | keyvalue" [value]="type.key">
                {{ type.value }}
              </option>
            </select>
          </form>
        </div>

        <!-- <div *ngIf="dialogAction == 'Add Finance'" label="Import">
          <form [formGroup]="bulkImportForm">
            <label>Input</label>
            <textarea
              [formControl]="bulkImportForm.controls.input"
              type="text"
              style="min-height: 200px"
            >
            </textarea>

            <label>Date</label>
            <div class="right-icon">
              <input
                type="date"
                [formControl]="bulkImportForm.controls.date"
                class="form-control"
              />
              <span>
                <mat-datepicker-toggle [for]="pickerBulk"></mat-datepicker-toggle>
                <mat-datepicker #pickerBulk></mat-datepicker>
              </span>
            </div>
          </form>

          <div class="parsed-display scrollable-div">
            <div *ngFor="let v of test$ | async">
              {{ v.date }}
              {{ "$" + v.amount }}
              {{ v.name }}
            </div>
          </div>
        </div> -->
      </div>
    </div>

    <footer class="actions">
      <button (click)="closeDialog()">Cancel</button>

      <div>
        <button
          *ngIf="dialogAction == 'Edit Finance'"
          class="danger"
          (click)="deleteFinance()"
        >
          Delete
        </button>

        <button class="primary" (click)="addFinance()">
          {{ dialogAction == "Add Finance" ? "Create" : "Update" }}
        </button>
      </div>
    </footer>
  </article>
</app-dialog>
